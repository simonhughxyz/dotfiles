{{- if eq .chezmoi.os "windows" -}}
# vim: ft=ps1

$Modules = @(
  "PSWindowsUpdate",
  "PSFzf",
  "Terminal-Icons",
  "BurntToast"
)

$scoop = @(
  "curl",
  "neovim-nightly",
  "starship",
  "vieb",
  "brave",
  "firefox",
  "mpv",
  "fzf"
)

Install-WindowsUpdate -AcceptAll

$Modules | ForEach-Object { Install-Module -Name $_ -Force }

if ( -not (Get-Command -Name scoop)){
# Install scoop
  iex "& {$(irm get.scoop.sh)} -RunAsAdmin"
}

scoop update

scoop bucket add extras
scoop bucket add versions

Write-Host "Starting Scoop Install..."
$scoop | ForEach-Object { write-host ("Installing {0}..." -f $_ ); scoop install $_ }

{{- end -}}
